# 3강 데이터 어떻게 저장하고 어떻게 활용할까?

## 1. 깔끔한 데이터, 지저분한 데이터

### (1) 데이터가 지저분하다는 것은 무슨 뜻일까?

```
데이터 분석 작업을 할 때, 자주 듣는 말
"데이터가 지저분해서 생각보다 분석하는데 시간이 오래 걸렸어요"
```

- 데이터가 지저분하다고? 그럼 깔끔한 데이터도 있나?
  - 네 있습니다. 깔끔한 데이터 지저분한 데이터 모두 존재합니다.
- 데이터는 여러가지 이유로 지저분해 질 수 있습니다.
  - 대개는 데이터를 편의에 따라 아무렇게나 저장하고 관리하기 때문에 지저분해집니다.
  - 특히, 엑셀로 관리하는 데이터는 아무리 신경써도 깔끔하게 만들기 어렵습니다.
- 데이터 품질 관리 기준을 지킨 데이터를 깔끔하다고 합니다.
  - 대표적인 데이터 품질 관리 기준은 정확성, 완전성, 일관성, 유효성, 적시성, 유일성, 적법성 등 입니다.
  - 데이터가 지저분하다는 것은 이러한 기준을 지키지 않았다는 의미입니다.
 
### (2) 데이터 품질 관리 기준

#### 정확성, 유효성은 데이터가 진실에 부합하는지에 대한 기준입니다.

#### ① 정확성(Accuracy)

- 정확성은 데이터가 현실과 일치해야 한다는 의미입니다.
- 정확성은 데이터 품질관리에 있어 가장 기본적이고 중요한 원칙입니다.
- 입력과정의 오타, 착각이나 실수에 의한 잘못된 정보 입력, 측정오류 등으로 인해 사실과 다른 데이터를 입력하면 정확성이 훼손됩니다.
- 정확성을 향상시키는 방법은 크게 2가지입니다.
  - 첫번째, 데이터 검증 절차를 마련하여 주기적으로 데이터의 정확성을 검증한다.
  - 두번째, 데이터 입력시 오류가 발생하지 않도록 유효성 검사를 실시한다.
 
#### ② 유효성(Validaty)

- 유효성은 데이터가 사전에 정의된 형식, 범위, 규칙을 따라야 한다는 의미입니다.
- 정확성이 데이터의 내용에 대한 판단기준이라면, 유효성은 데이터의 형식에 대한 판단기준이라고 할 수 있습니다.
- 날짜 정보가 입력되어 있다면 그것은 항상 같은 형식이어야 합니다.
  - '2025-05-12'도 있고, '25.5.12'도 있고, '25년 5월 12일'도 있으면 안됩니다.
- 허용범위를 벗어난 값도 입력되면 안됩니다.
  - 예를 들어 고용보험사업장 성립일자가 1950년이거나, 가입자 연령이 135세라면 뭔가 문제가 있다고 봐야 합니다.
- 제약조건을 벗어난 데이터도 유효성을 훼손합니다.
  - 대표적으로 사업장소멸일이 사업장 성립일보다 빠르다면 그 데이터는 입력이 되지 않도록 하는 것이 맞습니다.
 
#### 완전성, 일관성, 적시성, 유일성은 데이터가 얼마나 활용가치가 있는지에 대한 기준입니다.
 
#### ③ 완전성(Completeness)

- 완전성은 필요한 모든 데이터가 누락없이 존재해야 한다는 의미입니다.
- 충분한 시간을 가지지 않고 급하게 데이터를 생성하거나 정해진 절차를 거치지 않고 임시로 데이터를 생성하는 경우 완전성이 훼손됩니다.
  - 특히 분류체계가 없이 데이터를 분류하려고 하는 경우 완전성이 문제됩니다.
- 완전성을 향상시키는 방법은 크게 2가지 입니다.
  - 첫번째, 데이터를 입력할 때 어떤 값들을 필수적으로 입력하도록 강제한다.
  - 두번째, 누락된 데이터를 찾아 적절한 값으로 보완한다.

#### ④ 일관성(Consistency)

- 일관성은 동일한 데이터가 반복되는 경우, 그 데이터가 항상 같은 형식을 유지해야 한다는 의미입니다.
  - 예를 들면, A사업장이 만들어진 날을 입력한다고 할 때, '생성일'이라는 컬럼에 2020-03-05로 기록된 데이터와 '사업시작일'이라는 컬럼에 '20년3월5일' 로 기록된 데이터가 같이 존재해서는 안됩니다.
  - 일관성 문제는 여러 소스에서 수집한 데이터를 합치는 경우, 오랜 시간동안 데이터를 축적하는 과정에서 입력방식이 바뀐 경우 발생할 수 있습니다.
- 일관성을 유지하기 위해 주로 다음의 2가지 방법을 사용할 수 있습니다.
  - 첫번째, 표준화된 데이터 형식 및 명명 규칙을 정하고 모든 데이터에 적용해야 합니다.
  - 두번째, 메타데이터 관리를 통해 동일한 내용의 컬럼이 존재하지 않도록 주기적으로 점검해야 합니다.
 
#### ⑤ 적시성(Timeliness)

- 적시성은 데이터가 사용될 시점에 가능한 한 최신 상태를 유지하고 있어야 한다는 의미입니다.
- 최근의 전산시스템은 모두 실시간으로 자료를 처리하기 때문에 적시성의 중요도는 다소 줄어들었습니다.
- 하지만, 행정절차나 인력부족 등의 이유로 데이터 입력 시점이 사건이 발생한 시점보다 늦어지는 경우에는 여전히 적시성 문제가 발생할 수 있습니다.
  - 예를 들어, 사업장 감독과 관련된 정보를 시정지시가 모두 이행된 다음에야 입력하도록 한다면, 진행중인 사업장 감독에 대한 자료를 분석할 수 없게 됩니다.
- 적시성을 유지하려면 2가지 원칙을 준수하면 됩니다.
  - 첫번째, 실시간으로 정보를 처리하는 전산시스템을 구축합니다.(최근에는 다 이렇게 합니다)
  - 두번째, 별도의 데이터 입력 절차를 두지 말고, 어떤 의사결정이나 행위를 할 때 자연스럽게 데이터가 입력되도록 시스템을 설계합니다.
 
#### ⑥ 유일성(Uniqueness)

- 유일성은 데이터 집합 내에 중복된 레코드가 없어야 한다는 의미입니다.
- 유일성은 너무 당연한 내용이라서 보통 사람들은 이것이 왜 문제가 되는지 이해하기가 어렵습니다.
  - 하지만 유일성 문제가 있는 데이터는 사실상 활용하기가 불가능하다고 할 수 있을 정도로 해결하기가 쉽지 않습니다.
- 유일성에 문제가 있는 데이터는 현재의 관계형 데이터베이스 체계 하에서 데이터 간의 결합을 불가능하게 만듭니다.
  - 하지만 중복된 데이터의 내용과 형식이 동일하기 때문에 데이터 정제 작업을 통해서도 정리하기가 **매우!매우!** 어렵습니다.
- 유일성 문제를 해결할 수 있는 방법은 고유 식별자를 생성해서 부여하는 것입니다.
  - 사실상 다른 방법은 없고, 고유 식별자를 생성해서 부여하는 방법이 유일한 해결책입니다.
  - 기존의 데이터에 유일성 문제가 있는데, 고유 식별자가 존재하지 않는다면
    - 새로운 고유 식별자 체계를 만들고 과거 데이터에 일일이 고유 식별자를 부여하거나,
    - 기존의 데이터는 참고용으로만 사용하고, 향후 생성되는 데이터부터 고유 식별자를 부여해야 합니다.

#### 적법성은 데이터가 현행 법령 체계를 준수하는지에 대한 기준입니다.
   
#### ⑦ 적법성(Conformity)

- 적법성은 데이터가 관련 법규, 규정, 표준 그리고 내부 정책 등을 준수하는 정도를 나타냅니다.
- 예를 들어, 법령에 근거가 없는 민감정보가 기록되어 있는 것은 아닌지, 개인정보 보호를 위한 암호화 등이 되어 있는지, 정보 제공 동의를 제대로 받았는지 등에 대한 문제입니다.
- 데이터베이스 설계 단계부터 적법성 준수를 위한 객관적인 검증을 받을 필요가 있습니다.

## 2. 깔끔한 데이터 만들기

### (1) 기존의 의사결정

- 데이터를 깔끔하게 만드는 방법은 두 가지가 있습니다.
  - 첫번째는 데이터를 생성할 때부터 데이터 품질 관리 기준을 준수하는 방법입니다.
  - 두번째는 데이터를 아무렇게나 생성한 다음에 지저분한 데이터를 정제하여 깔끔하게 만드는 것입니다.
- 누구라도 첫번째 방법을 사용할 것 같지만, 현실을 그렇지 않습니다. 우리는 30년동안 두번째 방법을 사용해왔습니다.
- 이와 관련한 대표적인 의사결정은 다음과 같습니다.
  - (정확성) 현장 담당자가 입력한 데이터는 별도의 검증절차 없이 데이터베이스에 기록되도록 했습니다.
  - (유효성) 각 사업담당자의 개별적인 판단에 따라 어떤 데이터를 어떤 형태로 저장할지 선택할 수 있도록 했습니다.
  - (완전성) 분류체계가 존재하지 않는 경우에도 문자열로 분류명을 입력할 수 있도록 했습니다.
  - (일관성) 같은 내용의 데이터라도 담당자의 편의에 따라 다양한 방식으로 저장할 수 있도록 했습니다.
  - (적시성) 하나의 업무가 완전히 완료되기 전까지는 전산업무를 처리하지 않도록 절차를 만들었습니다.
  - (유일성) 담당자의 필요에 따라 사업장 정보를 수시로 생성할 수 있도록 했습니다.
  - (적법성) 별로 신경을 안 썼습니다.

### (2) 데이터를 깔끔하게 만드는 방법

- 우리는 훌륭하다고 할 수 없는 의사결정을 꽤 오랜 기간동안 유지해 왔습니다.
- 그 결과 우리가 선택할 수 있는 현실적인 대안은 다음과 같습니다.
  - 우선 어떻게든 '기준정보'라고 할 수 있는 DB를 만들어 낸다.
  - 새로운 시스템을 구축할 때는 어떻게든 '기준정보'를 활용하는 방식으로 시스템을 재설계한다.
  - 기존 시스템의 경우 어떻게든 '기준정보'와 매칭이 될 수 있는 방식으로 데이터를 정비한다.
- 우리부는 국가일자리정보플랫폼 구축 사업을 통해 기준정보라고 할 수 있는 MDB(Master DataBase)를 구축하였습니다.
  - MDB는 데이퍼 품질 관리 기준에 기초하여 설계되었습니다.
  - 그리고 MDB 기반으로 바로원서비스, 디지털기업지도 서비스를 제공하고 있습니다.
  - 하지만, 거기까지 뿐이고 대부분의 업무용 전산시스템은 MDB를 활용하고 있지 않습니다.
- 그래서, 시스템을 새로 만들거나 기능을 강화할 때 MDB 기반 설계를 요구해야 합니다.
  - 그리고 우리의 사고방식 나아가 의사결정도 바꿔야 합니다.
 
### (3) 데이터베이스 정규화 개념 이해하기
 
## 3. 데이터 품질 관리를 위한 의사결정

### 첫번째, 엑셀에서 벗어나야 합니다.

- 엑셀(또는 한셀)은 굉장히 훌륭한 프로그램입니다.
  - 정책결정에 필요한 여러가지 수치 작업을 쉽게 할 수 있도록 도와주는 극도로 발달된 계산기 프로그램입니다.
  - 하지만, 계산이 프로그램의 주된 목적이기 때문에 몇 가지 한계가 존재하는데 그 한계가 너무나도 치명적입니다.
- 첫째, 엑셀은 데이터를 파일로 관리합니다.
  - 데이터를 파일로 관리하는게 왜 문제이지? 라고 생각할 수 있지만 정보 활용의 측면에서 파일시스템은 한계가 분명한 방식입니다.
  - 파일은 누구나 수정할 수 있기 때문에 데이터의 정확성, 유효성, 일관성 등 데이터 품질 관리 기준이 쉽게 훼손됩니다.
  - 파일로 데이터를 저장하는 것은 안전성과 보안수준이 매우 낮은 방식입니다. 별도의 백업을 만드는 작업을 개인이 해야하고, 적절한 백업이 이루어지지 않은 경우 삭제, 오류 등에 대응할 수 있는 방법이 없습니다.
- 둘째, 엑셀은 변경 이력을 남기는 기능이 없습니다.
  - 엑셀에 있는 데이터를 그대로 사용하는 경우는 별로 없습니다. 대부분의 경우 잘못된 자료를 고치기도 하고, 최신 자료를 추가하기도 합니다.
  - 그런데, 누가 어떻게 고쳤는지에 대한 이력이 남지 않습니다.
    - 엑셀로 데이터를 처리하는 것이 너무 익숙해져서 쉽게 넘어가지만, 이것은 정말 위험한 특징입니다.
    - 누가 어떻게 데이터를 수정했는지 알 수 없는 상황에서 그 데이터를 기반으로 의사결정을 한다는 것은 전제 자체를 흔드는 일입니다.
  - 담당자가 오랜 기간동안 수정한 엑셀의 경우 자기자신도 무엇을 어떻게 고쳤는지 알지 못합니다.
    - 이것은 출처를 알 수 없는 자료로 업무를 수행하는 것과 다르지 않습니다.
- 셋째, 엑셀파일을 읽기 위해서는 엑셀 프로그램이 필요합니다.
  - 본부에서 일하는 사람들은 체감하기 어려운 문제이긴 한데, 지방에서는 엑셀이 컴퓨터에 설치되어 있지 않은 직원이 많습니다.
  - 본부에서야 정보화팀에 얘기하면 다 조치를 해주지만 지방관서는 그렇지 않습니다. 한셀 써야 됩니다.
  - 그런데 한셀로는 본부에서 작성한 엑셀 파일을 제대로 읽지 못하는 경우도 꽤 많습니다.
- 결론적으로 엑셀은 수치 계산을 위한 계산기 프로그램으로만 쓰거나, 의사결정을 위해 혼자서 간단한 분석을 할 때 사용해야합니다.
  - 의사결정 과정에서 엑셀이 중요한 역할을 하도록 하면 안됩니다.
  - 특히, 엑셀을 지방관서에 뿌려서 자료 채우라고 하고 있다면 일이 정말 잘못되고 있다고 느껴야 합니다.
 
### 두번째, 관리 대상 자료의 범위를 세심하게 정해야 합니다.

- 어떤 일을 할 때, 데이터 관점에서 가장 중요한 것은 관리 대상 자료의 범위를 정하는 것입니다.
- 관리되지 않는 자료를 기반으로 무언가를 결정해야 한다면 엄청난 시간과 노력이 필요합니다.
  - 예를 들어, 어떤 지원금 사업이 있는데 지원금을 신청한 금액과 지급하기로 결정한 금액 정보가 각각 존재할 수 있습니다.
  - 이런 경우 신청한 금액도 관리할 대상에 들어가는지 아닌지 명확하게 결정해주어야 합니다.
  - 신청한 금액은 관리대상 자료가 아니라고 결정했는데, 나중에 신청한 금액 대비 지급 금액 비율을 계산하라고 하면 안됩니다.
- 여기까지 들으면 이렇게 생각할 수 있습니다. 그냥 모든 데이터를 다 관리하라고 하면 안될까?
  - 가능합니다. 그런데 모든 데이터가 무엇인지가 명확하지 않습니다.
  - 모든 데이터의 범위도 정해주어야 합니다. 그런 과정이 없었는데 데이터가 제대로 관리되고 있다면 정말 운이 좋은 것입니다.
  - 



